# Encoding

## w/ BufferedStream (contains bug when buffer size does not align)
| Method                 | Size    | Mean           | Error        | StdDev       | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated  | Alloc Ratio |
|----------------------- |-------- |---------------:|-------------:|-------------:|------:|--------:|---------:|---------:|---------:|-----------:|------------:|
| RegularConvertToBase64 | 1024    |       739.7 ns |     12.87 ns |      8.52 ns |  1.00 |    0.02 |   1.2255 |   0.0095 |        - |   10.01 KB |        1.00 |
| UsingBase64Stream      | 1024    |       808.7 ns |     16.38 ns |      9.75 ns |  1.09 |    0.02 |   1.3523 |   0.0362 |        - |   11.05 KB |        1.10 |
|                        |         |                |              |              |       |         |          |          |          |            |             |
| RegularConvertToBase64 | 65536   |    81,347.7 ns |  1,960.36 ns |  1,296.66 ns |  1.00 |    0.02 |  55.5420 |  55.5420 |  55.5420 |  304.03 KB |        1.00 |
| UsingBase64Stream      | 65536   |    73,506.8 ns |  1,381.98 ns |    914.09 ns |  0.90 |    0.02 |  55.5420 |  55.5420 |  55.5420 |  176.04 KB |        0.58 |
|                        |         |                |              |              |       |         |          |          |          |            |             |
| RegularConvertToBase64 | 1048576 | 1,084,839.6 ns | 75,083.15 ns | 49,662.85 ns |  1.00 |    0.06 | 621.0938 | 621.0938 | 621.0938 |  4784.2 KB |        1.00 |
| UsingBase64Stream      | 1048576 |   518,939.2 ns | 13,921.04 ns |  9,207.91 ns |  0.48 |    0.02 | 333.9844 | 333.0078 | 333.0078 | 2736.13 KB |        0.57 |

## w/ ArrayBufferWriter as backing structure
| Method                 | Size    | Mean           | Error        | StdDev       | Ratio | RatioSD | Gen0      | Gen1     | Gen2     | Allocated  | Alloc Ratio |
|----------------------- |-------- |---------------:|-------------:|-------------:|------:|--------:|----------:|---------:|---------:|-----------:|------------:|
| RegularConvertToBase64 | 1024    |       736.9 ns |     13.28 ns |      7.90 ns |  1.00 |    0.01 |    1.2255 |   0.0095 |        - |   10.01 KB |        1.00 |
| UsingBase64Stream      | 1024    |     2,231.9 ns |     66.00 ns |     39.27 ns |  3.03 |    0.06 |    1.1978 |   0.0267 |        - |    9.81 KB |        0.98 |
|                        |         |                |              |              |       |         |           |          |          |            |             |
| RegularConvertToBase64 | 65536   |    81,058.3 ns |  1,585.64 ns |  1,048.80 ns |  1.00 |    0.02 |   55.5420 |  55.5420 |  55.5420 |  304.03 KB |        1.00 |
| UsingBase64Stream      | 65536   |    90,124.2 ns |    898.89 ns |    594.56 ns |  1.11 |    0.02 |   55.5420 |  55.5420 |  55.5420 |  303.99 KB |        1.00 |
|                        |         |                |              |              |       |         |           |          |          |            |             |
| RegularConvertToBase64 | 1048576 | 1,111,965.3 ns | 16,436.97 ns | 10,872.04 ns |  1.00 |    0.01 |  570.3125 | 570.3125 | 570.3125 | 4784.18 KB |        1.00 |
| UsingBase64Stream      | 1048576 |   707,386.3 ns | 71,522.12 ns | 47,307.45 ns |  0.64 |    0.04 | 1002.9297 | 986.3281 | 986.3281 | 4784.64 KB |        1.00 |

## w/ BlockingCollection
| Method                 | Size    | Mean            | Error         | StdDev        | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated   | Alloc Ratio |
|----------------------- |-------- |----------------:|--------------:|--------------:|------:|--------:|---------:|---------:|---------:|------------:|------------:|
| RegularConvertToBase64 | 1024    |        752.3 ns |       3.82 ns |       2.00 ns |  1.00 |    0.00 |   1.2255 |   0.0095 |        - |    10.01 KB |        1.00 |
| UsingBase64Stream      | 1024    |     71,755.9 ns |     197.35 ns |     130.53 ns | 95.39 |    0.29 |   3.1738 |   0.2441 |        - |    26.87 KB |        2.68 |
|                        |         |                 |               |               |       |         |          |          |          |             |             |
| RegularConvertToBase64 | 65536   |     76,334.7 ns |     559.01 ns |     369.75 ns |  1.00 |    0.01 |  55.5420 |  55.5420 |  55.5420 |   304.03 KB |        1.00 |
| UsingBase64Stream      | 65536   |  4,746,479.5 ns |  19,008.55 ns |  12,572.98 ns | 62.18 |    0.33 | 328.1250 | 328.1250 | 328.1250 |  1267.59 KB |        4.17 |
|                        |         |                 |               |               |       |         |          |          |          |             |             |
| RegularConvertToBase64 | 1048576 |  1,049,122.4 ns |  48,865.28 ns |  32,321.36 ns |  1.00 |    0.04 | 691.4063 | 691.4063 | 691.4063 |  4784.22 KB |        1.00 |
| UsingBase64Stream      | 1048576 | 73,355,701.4 ns | 319,106.98 ns | 211,069.51 ns | 69.98 |    2.10 | 857.1429 | 857.1429 | 857.1429 | 20149.01 KB |        4.21 |

## w/ Queue
| Method                 | Size    | Mean           | Error        | StdDev       | Ratio | RatioSD | Gen0      | Gen1     | Gen2     | Allocated  | Alloc Ratio |
|----------------------- |-------- |---------------:|-------------:|-------------:|------:|--------:|----------:|---------:|---------:|-----------:|------------:|
| RegularConvertToBase64 | 1024    |       769.8 ns |     14.56 ns |      8.67 ns |  1.00 |    0.02 |    1.2255 |   0.0095 |        - |   10.01 KB |        1.00 |
| UsingBase64Stream      | 1024    |     5,231.2 ns |     23.03 ns |     15.23 ns |  6.80 |    0.07 |    1.2436 |   0.0229 |        - |   10.21 KB |        1.02 |
|                        |         |                |              |              |       |         |           |          |          |            |             |
| RegularConvertToBase64 | 65536   |    76,570.7 ns |    536.15 ns |    354.63 ns |  1.00 |    0.01 |   55.5420 |  55.5420 |  55.5420 |  304.03 KB |        1.00 |
| UsingBase64Stream      | 65536   |   317,149.7 ns |  1,316.31 ns |    870.66 ns |  4.14 |    0.02 |   55.1758 |  55.1758 |  55.1758 |  304.39 KB |        1.00 |
|                        |         |                |              |              |       |         |           |          |          |            |             |
| RegularConvertToBase64 | 1048576 | 1,035,573.9 ns | 42,344.03 ns | 28,007.95 ns |  1.00 |    0.04 |  667.9688 | 667.9688 | 667.9688 | 4784.21 KB |        1.00 |
| UsingBase64Stream      | 1048576 | 4,771,911.2 ns | 20,258.88 ns | 13,400.00 ns |  4.61 |    0.12 | 1000.0000 | 984.3750 | 984.3750 | 4785.07 KB |        1.00 |

## w/ custom remainder management
| Method                 | Size    | Mean           | Error        | StdDev       | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated  | Alloc Ratio |
|----------------------- |-------- |---------------:|-------------:|-------------:|------:|--------:|---------:|---------:|---------:|-----------:|------------:|
| RegularConvertToBase64 | 1024    |       758.8 ns |      5.36 ns |      3.19 ns |  1.00 |    0.01 |   1.2255 |   0.0095 |        - |   10.01 KB |        1.00 |
| UsingBase64Stream      | 1024    |       584.1 ns |      3.78 ns |      1.97 ns |  0.77 |    0.00 |   0.9794 |        - |        - |       8 KB |        0.80 |
|                        |         |                |              |              |       |         |          |          |          |            |             |
| RegularConvertToBase64 | 65536   |    76,905.0 ns |    417.73 ns |    276.30 ns |  1.00 |    0.00 |  55.5420 |  55.5420 |  55.5420 |  304.03 KB |        1.00 |
| UsingBase64Stream      | 65536   |    71,670.9 ns |    231.57 ns |    153.17 ns |  0.93 |    0.00 |  55.5420 |  55.5420 |  55.5420 |  176.04 KB |        0.58 |
|                        |         |                |              |              |       |         |          |          |          |            |             |
| RegularConvertToBase64 | 1048576 | 1,045,812.6 ns | 45,062.72 ns | 29,806.20 ns |  1.00 |    0.04 | 609.3750 | 609.3750 | 609.3750 | 4784.19 KB |        1.00 |
| UsingBase64Stream      | 1048576 |   546,417.0 ns |  5,294.73 ns |  3,150.81 ns |  0.52 |    0.01 | 333.9844 | 333.0078 | 333.0078 | 2736.22 KB |        0.57 |

## w/ GetBuffer in "regular" encoding
| Method                 | Size    | Mean         | Error        | StdDev       | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated  | Alloc Ratio |
|----------------------- |-------- |-------------:|-------------:|-------------:|------:|--------:|---------:|---------:|---------:|-----------:|------------:|
| RegularConvertToBase64 | 1024    |     875.1 ns |     35.60 ns |     21.18 ns |  1.00 |    0.03 |   1.0996 |   0.0153 |        - |    8.98 KB |        1.00 |
| UsingBase64Stream      | 1024    |     735.9 ns |     51.53 ns |     34.09 ns |  0.84 |    0.04 |   0.9794 |        - |        - |       8 KB |        0.89 |
|                        |         |              |              |              |       |         |          |          |          |            |             |
| RegularConvertToBase64 | 65536   |  81,125.8 ns |  1,139.75 ns |    753.88 ns |  1.00 |    0.01 |  55.5420 |  55.5420 |  55.5420 |     240 KB |        1.00 |
| UsingBase64Stream      | 65536   |  78,891.6 ns |  1,614.93 ns |  1,068.18 ns |  0.97 |    0.02 |  55.5420 |  55.5420 |  55.5420 |  176.04 KB |        0.73 |
|                        |         |              |              |              |       |         |          |          |          |            |             |
| RegularConvertToBase64 | 1048576 | 839,218.1 ns | 35,681.21 ns | 23,600.91 ns |  1.00 |    0.04 | 557.6172 | 556.6406 | 556.6406 | 3760.15 KB |        1.00 |
| UsingBase64Stream      | 1048576 | 644,014.0 ns | 19,632.37 ns | 12,985.60 ns |  0.77 |    0.03 | 333.9844 | 333.0078 | 333.0078 | 2736.21 KB |        0.73 |

## w/o StreamWriter in the middle
| Method                  | Size    | Mean         | Error        | StdDev       | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated | Alloc Ratio |
|------------------------ |-------- |-------------:|-------------:|-------------:|------:|--------:|---------:|---------:|---------:|----------:|------------:|
| RegularConvertToBase64  | 1024    |     731.6 ns |    103.68 ns |     26.93 ns |  1.00 |    0.05 |   1.0996 |   0.0153 |        - |    9200 B |        1.00 |
| UsingBase64Stream_1024  | 1024    |     200.0 ns |      3.97 ns |      1.03 ns |  0.27 |    0.01 |   0.0134 |        - |        - |     112 B |        0.01 |
| UsingBase64Stream_4096  | 1024    |     148.2 ns |      0.90 ns |      0.14 ns |  0.20 |    0.01 |   0.0134 |        - |        - |     112 B |        0.01 |
| UsingBase64Stream_81920 | 1024    |     150.3 ns |      2.36 ns |      0.61 ns |  0.21 |    0.01 |   0.0134 |        - |        - |     112 B |        0.01 |
|                         |         |              |              |              |       |         |          |          |          |           |             |
| RegularConvertToBase64  | 65536   |  75,563.5 ns |    420.16 ns |    109.11 ns |  1.00 |    0.00 |  55.5420 |  55.5420 |  55.5420 |  245781 B |       1.000 |
| UsingBase64Stream_1024  | 65536   |   8,763.5 ns |    172.49 ns |     44.79 ns |  0.12 |    0.00 |        - |        - |        - |     112 B |       0.000 |
| UsingBase64Stream_4096  | 65536   |   6,340.9 ns |      9.21 ns |      1.42 ns |  0.08 |    0.00 |   0.0076 |        - |        - |     112 B |       0.000 |
| UsingBase64Stream_81920 | 65536   |   6,656.3 ns |     57.66 ns |      8.92 ns |  0.09 |    0.00 |   0.0076 |        - |        - |     112 B |       0.000 |
|                         |         |              |              |              |       |         |          |          |          |           |             |
| RegularConvertToBase64  | 1048576 | 626,253.0 ns | 43,711.19 ns | 11,351.66 ns |  1.00 |    0.02 | 996.0938 | 994.1406 | 994.1406 | 4768414 B |       1.000 |
| UsingBase64Stream_1024  | 1048576 | 142,184.9 ns |  4,724.81 ns |  1,227.02 ns |  0.23 |    0.00 |        - |        - |        - |     112 B |       0.000 |
| UsingBase64Stream_4096  | 1048576 | 104,198.8 ns |    817.51 ns |    126.51 ns |  0.17 |    0.00 |        - |        - |        - |     112 B |       0.000 |
| UsingBase64Stream_81920 | 1048576 | 128,111.8 ns |  2,127.39 ns |    329.22 ns |  0.20 |    0.00 |        - |        - |        - |     112 B |       0.000 |

# Decoding

## w/ Queue
| Method                   | Size    | Mean         | Error       | StdDev      | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated  | Alloc Ratio |
|------------------------- |-------- |-------------:|------------:|------------:|------:|--------:|---------:|---------:|---------:|-----------:|------------:|
| RegularConvertFromBase64 | 1024    |     2.275 us |   0.0306 us |   0.0160 us |  1.00 |    0.01 |   1.3618 |   0.0267 |        - |   11.13 KB |        1.00 |
| UsingBase64Stream        | 1024    |     5.992 us |   0.0127 us |   0.0076 us |  2.63 |    0.02 |   0.8011 |   0.0076 |        - |    6.55 KB |        0.59 |
|                          |         |              |             |             |       |         |          |          |          |            |             |
| RegularConvertFromBase64 | 65536   |   175.114 us |   0.9646 us |   0.6380 us |  1.00 |    0.00 |  55.4199 |  55.4199 |  55.4199 |  411.25 KB |        1.00 |
| UsingBase64Stream        | 65536   |   393.995 us |   1.4619 us |   0.9670 us |  2.25 |    0.01 |  23.9258 |   4.8828 |        - |  196.67 KB |        0.48 |
|                          |         |              |             |             |       |         |          |          |          |            |             |
| RegularConvertFromBase64 | 1048576 | 4,060.775 us | 156.8567 us | 103.7510 us |  1.00 |    0.03 | 960.9375 | 937.5000 | 625.0000 | 6506.89 KB |        1.00 |
| UsingBase64Stream        | 1048576 | 6,335.996 us |  30.5967 us |  20.2378 us |  1.56 |    0.04 | 242.1875 | 101.5625 | 101.5625 | 1555.84 KB |        0.24 |

## w/ Calculating bytes to read
| Method                   | Size    | Mean         | Error       | StdDev     | Ratio | RatioSD | Gen0     | Gen1     | Gen2     | Allocated  | Alloc Ratio |
|------------------------- |-------- |-------------:|------------:|-----------:|------:|--------:|---------:|---------:|---------:|-----------:|------------:|
| RegularConvertFromBase64 | 1024    |     2.211 us |   0.0631 us |  0.0418 us |  1.00 |    0.03 |   1.3618 |   0.0267 |        - |   11.13 KB |        1.00 |
| UsingBase64Stream        | 1024    |     1.775 us |   0.0176 us |  0.0105 us |  0.80 |    0.01 |   0.5245 |   0.0038 |        - |    4.29 KB |        0.39 |
|                          |         |              |             |            |       |         |          |          |          |            |             |
| RegularConvertFromBase64 | 65536   |   174.570 us |   1.6429 us |  0.9776 us |  1.00 |    0.01 |  55.4199 |  55.4199 |  55.4199 |  411.25 KB |        1.00 |
| UsingBase64Stream        | 65536   |    94.952 us |   0.3171 us |  0.2097 us |  0.54 |    0.00 |   8.1787 |        - |        - |   67.29 KB |        0.16 |
|                          |         |              |             |            |       |         |          |          |          |            |             |
| RegularConvertFromBase64 | 1048576 | 4,079.204 us | 137.1047 us | 90.6862 us |  1.00 |    0.03 | 976.5625 | 953.1250 | 640.6250 | 6507.39 KB |        1.00 |
| UsingBase64Stream        | 1048576 | 1,564.648 us |  11.5861 us |  6.8947 us |  0.38 |    0.01 | 306.6406 | 298.8281 | 298.8281 | 1027.71 KB |        0.16 |
